// Created by @DogePGP
study(title="coinbase-usdtindex", shorttitle="coinbase-usdtindex" )


//FX Prices
USDJPY = security("USDJPY",period,close)
KRWUSD = security("FX_IDC:KRWUSD",period,close)


// US & EUROPE region
coinbase = security("COINBASE:BTCUSD",period,close)
gemini = security("GEMINI:BTCUSD", period, close)
kraken = security("KRAKEN:XBTUSD", period, close)
bitstamp = security("BITSTAMP:BTCUSD",period,close)
west=((coinbase+gemini+kraken+bitstamp)/4)


//ASIA region
bithumb = security("BITHUMB:BTCKRW",period,close)
bithumbfx= (bithumb*KRWUSD)
bitflyerjp = security("BITFLYER:BTCJPY", period, close)
bitflyerjpfx= (bitflyerjp/(USDJPY))
huobi = security("HUOBI:BTCUSDT", period, close)
okex = security("OKEX:BTCUSDT",period,close)
east=((bithumbfx+bitflyerjpfx+huobi+okex)/4)



pacificwar=west-east
plot(pacificwar, style=line, linewidth=1, color=white, title='Premium')

bgcolor(pacificwar < -300 ? green : pacificwar > 300 ? blue : na, transp=50)
